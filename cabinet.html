<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CABINET - 버튼 서랍장</title>
    <link rel="stylesheet" href="cabinet.css">
</head>
<body>
    <nav class="top-nav">
        <div class="nav-buttons">
            <a href="home.html"><button class="nav-button">HOME</button></a>
            <a href="btti.html"><button class="nav-button">BTTI</button></a>
            <a href="cabinet.html"><button class="nav-button active">CABINET</button></a>
            <a href="exhibition.html"><button class="nav-button">EXHIBITION</button></a>
        </div>
        <div class="top-buttons" id="choose-buttons">
            <div class="number-buttons">
            </div>
        </div>
    </nav>
    
    <div class="container">
        <div class="content">
            <div class="top-category">
                <div class="category-buttons">
                    <button class="category-button active" data-target="cabinet-section">서랍장</button>
                </div>
                <div class="category-line"></div>
            </div>
            
            <!-- 서랍장 섹션 -->
            <div id="cabinet-section" class="content-section active">
                <div class="box-container">
                    <div class="box-frame">
                        <div class="drawer-handle"></div>
                        <div class="badge-container">
                            <img src="badge_png/1.png" alt="뱃지 #1" class="badge-image">
                        </div>
                        <button class="frame-number">#1</button>
                    </div>
                    <div class="box-frame">
                        <div class="drawer-handle"></div>
                        <div class="badge-container">
                            <img src="badge_png/2.png" alt="뱃지 #2" class="badge-image">
                        </div>
                        <button class="frame-number">#2</button>
                    </div>
                    <div class="box-frame">
                        <div class="drawer-handle"></div>
                        <div class="badge-container">
                            <img src="badge_png/3.png" alt="뱃지 #3" class="badge-image">
                        </div>
                        <button class="frame-number">#3</button>
                    </div>
                    <div class="box-frame">
                        <div class="drawer-handle"></div>
                        <div class="badge-container">
                            <img src="badge_png/4.png" alt="뱃지 #4" class="badge-image">
                        </div>
                        <button class="frame-number">#4</button>
                    </div>
                    <div class="box-frame">
                        <div class="drawer-handle"></div>
                        <div class="badge-container">
                            <img src="badge_png/5.png" alt="뱃지 #5" class="badge-image">
                        </div>
                        <button class="frame-number">#5</button>
                    </div>
                    <div class="box-frame">
                        <div class="drawer-handle"></div>
                        <div class="badge-container">
                            <img src="badge_png/6.png" alt="뱃지 #6" class="badge-image">
                        </div>
                        <button class="frame-number">#6</button>
                    </div>
                    <div class="box-frame">
                        <div class="drawer-handle"></div>
                        <div class="badge-container">
                            <img src="badge_png/7.png" alt="뱃지 #7" class="badge-image">
                        </div>
                        <button class="frame-number">#7</button>
                    </div>
                    <div class="box-frame">
                        <div class="drawer-handle"></div>
                        <div class="badge-container">
                            <img src="badge_png/8.png" alt="뱃지 #8" class="badge-image">
                        </div>
                        <button class="frame-number">#8</button>
                    </div>
                    <div class="box-frame">
                        <div class="drawer-handle"></div>
                        <div class="badge-container">
                            <img src="badge_png/9.png" alt="뱃지 #9" class="badge-image">
                        </div>
                        <button class="frame-number">#9</button>
                    </div>
                    <div class="box-frame">
                        <div class="drawer-handle"></div>
                        <div class="badge-container">
                            <img src="badge_png/10.png" alt="뱃지 #10" class="badge-image">
                        </div>
                        <button class="frame-number">#10</button>
                    </div>
                    <div class="box-frame">
                        <div class="drawer-handle"></div>
                        <div class="badge-container">
                            <img src="badge_png/11.png" alt="뱃지 #11" class="badge-image">
                        </div>
                        <button class="frame-number">#11</button>
                    </div>
                    <div class="box-frame">
                        <div class="drawer-handle"></div>
                        <div class="badge-container">
                            <img src="badge_png/12.png" alt="뱃지 #12" class="badge-image">
                        </div>
                        <button class="frame-number">#12</button>
                    </div>
                    <div class="box-frame">
                        <div class="drawer-handle"></div>
                        <div class="badge-container">
                            <img src="badge_png/13.png" alt="뱃지 #13" class="badge-image">
                        </div>
                        <button class="frame-number">#13</button>
                    </div>
                    <div class="box-frame">
                        <div class="drawer-handle"></div>
                        <div class="badge-container">
                            <img src="badge_png/14.png" alt="뱃지 #14" class="badge-image">
                        </div>
                        <button class="frame-number">#14</button>
                    </div>
                    <div class="box-frame">
                        <div class="drawer-handle"></div>
                        <div class="badge-container">
                            <img src="badge_png/15.png" alt="뱃지 #15" class="badge-image">
                        </div>
                        <button class="frame-number">#15</button>
                    </div>
                    <div class="box-frame">
                        <div class="drawer-handle"></div>
                        <div class="badge-container">
                            <img src="badge_png/16.png" alt="뱃지 #16" class="badge-image">
                        </div>
                        <button class="frame-number">#16</button>
                    </div>
                    <div class="box-frame">
                        <div class="drawer-handle"></div>
                        <div class="badge-container">
                            <img src="badge_png/17.png" alt="뱃지 #17" class="badge-image">
                        </div>
                        <button class="frame-number">#17</button>
                    </div>
                    <div class="box-frame">
                        <div class="drawer-handle"></div>
                        <div class="badge-container">
                            <img src="badge_png/18.png" alt="뱃지 #18" class="badge-image">
                        </div>
                        <button class="frame-number">#18</button>
                    </div>
                    <div class="box-frame">
                        <div class="drawer-handle"></div>
                        <div class="badge-container">
                            <img src="badge_png/19.png" alt="뱃지 #19" class="badge-image">
                        </div>
                        <button class="frame-number">#19</button>
                    </div>
                    <div class="box-frame">
                        <div class="drawer-handle"></div>
                        <div class="badge-container">
                            <img src="badge_png/20.png" alt="뱃지 #20" class="badge-image">
                        </div>
                        <button class="frame-number">#20</button>
                    </div>
                    <div class="box-frame">
                        <div class="drawer-handle"></div>
                        <div class="badge-container">
                            <img src="badge_png/21.png" alt="뱃지 #21" class="badge-image">
                        </div>
                        <button class="frame-number">#21</button>
                    </div>
                    <div class="box-frame">
                        <div class="drawer-handle"></div>
                        <div class="badge-container">
                            <img src="badge_png/22.png" alt="뱃지 #22" class="badge-image">
                        </div>
                        <button class="frame-number">#22</button>
                    </div>
                    <div class="box-frame">
                        <div class="drawer-handle"></div>
                        <div class="badge-container">
                            <img src="badge_png/23.png" alt="뱃지 #23" class="badge-image">
                        </div>
                        <button class="frame-number">#23</button>
                    </div>
                    <div class="box-frame">
                        <div class="drawer-handle"></div>
                        <div class="badge-container">
                            <img src="badge_png/24.png" alt="뱃지 #24" class="badge-image">
                        </div>
                        <button class="frame-number">#24</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <a href="javascript:history.back();" class="back-button">
        ←
    </a>
    
    <!-- 뱃지 팝업창 -->
    <div class="badge-popup" id="badgePopup">
        <div class="badge-popup-content">
            <div class="badge-popup-header">
                <h2 class="badge-popup-title" id="badgeTitle">뱃지 이름</h2>
                <button class="close-badge-popup" id="closeBadgePopup">&times;</button>
            </div>
            <div class="badge-popup-image">
                <img id="badgeImage" src="" alt="뱃지 이미지">
            </div>
            <div class="badge-popup-story" id="badgeStory">
                여기에 뱃지에 담긴 이야기가 표시됩니다.
            </div>
        </div>
    </div>
    
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // 오래된 불필요한 데이터 정리
            function cleanupStorageData() {
                // localStorage에서 불필요한 데이터 제거
                const localStorageKeys = ['pageState', 'currentImage', 'exhibitionItems', 'bttiTestState', 'bttiResultType', 'bttiResultShown'];
                localStorageKeys.forEach(key => {
                    localStorage.removeItem(key);
                });
                
                // 오래된 세션 데이터 삭제 (날짜 기반)
                try {
                    for (let i = 0; i < sessionStorage.length; i++) {
                        const key = sessionStorage.key(i);
                        if (key) {
                            try {
                                const data = JSON.parse(sessionStorage.getItem(key));
                                if (data && data.timestamp) {
                                    // 일주일 이상 지난 데이터 삭제
                                    const oneWeekInMs = 7 * 24 * 60 * 60 * 1000;
                                    if (Date.now() - data.timestamp > oneWeekInMs) {
                                        sessionStorage.removeItem(key);
                                    }
                                }
                            } catch(e) {
                                // JSON 파싱 오류 - 타임스탬프가 없는 데이터는 그대로 유지
                                console.log('세션 데이터 파싱 오류(무시):', e);
                            }
                        }
                    }
                } catch (e) {
                    console.log('세션 데이터 정리 중 오류:', e);
                }
            }
            
            // 페이지 로드 시 스토리지 정리
            cleanupStorageData();
            
            // 카테고리 버튼 관련 코드 간소화 (오늘의 버튼 제거)
            const categoryButtons = document.querySelectorAll('.category-button');
            // 서랍장 버튼만 활성화된 상태로 유지
            
            // 뱃지 정보 데이터 (나중에 서버에서 가져오거나 별도의 JSON 파일로 관리 가능)
            const badgeData = [
                // 1번 뱃지
                {
                    id: 1,
                    name: "행운의 상징, 교수님",
                    imagePath: "badge_png/1.png",
                    story: "친구들이랑\n학교 안에 있는 절에 갔다.\n\n그냥 산책처럼\n조용히 올라가 봤다.\n\n절은 생각보다\n더 고요하고 더 포근했다.\n\n스님이 계셨고,\n\n커피 드실래요?\n하고 물어보셨다.\n\n갑자기 커피까지 얻어 마셨다.\n\n절에서 마시는 믹스커피.\n\n이상한데 이상하게 좋았다.\n\n별 거 없었는데\n괜히 오래 기억에 남는 날이다."
                },
                // 2번 뱃지
                {
                    id: 2,
                    name: "'올라 멕시코' 뱃지",
                    imagePath: "badge_png/2.png",
                    story: "장소: 린 캐니언 절벽 아래 계곡\n\n캐나다를 떠나기 2주 전,\n가보지 못한 근교 여행지를 혼자 다녔다. 그 중 하나가 Lynn Canyon. 나무 기둥까지 초록으로 덮인,\n정말 초록색 세상 같았다. 2시간 넘게 혼자 걷다가,\n절벽 아래로 내려가는 사람들을 보았다. 아래엔, 믿을 수 없을 만큼 \n맑은 에메랄드 빛 계곡이 있었다. 내려가고 싶었지만,\n돌길이 너무 가팔라 망설였다. 결국 옆에 있던 아저씨에게\n도와달라고 말을 걸었다. 흔쾌히 함께 내려가 준 아저씨는,\n멕시코에서 왔다고 했다. 같이 스몰톡을 하고,\n인스타그램 친구도 맺고,사진도 찍었다. 타코 먹으러 같이 가자고 제안받았지만,\n겁이 나서 웃으며 거절했다. 그래도,낯선 곳에서 만난\n작은 인연이오래 기억에 남았다."
                },
                // 3번 뱃지
                {
                    id: 3,
                    name: "'다섯번째 엉덩방아' 뱃지",
                    imagePath: "badge_png/3.png",
                    story: "장소: 대성리 MT촌 근처 계곡\n\n\"애정하는 사진동아리의 회장이 되고 나서,\n처음으로 부원들이랑 여름 하계 출사를 갔다.\n 신입생들이라 다들 좀 어색했는데,계곡을 보는 순간,\n 그냥 다 같이 뛰어들어야겠단 생각이 들었다.\n 구명조끼를 빌리고, 여벌 옷 챙긴 친구들을 모아 계곡으로 돌진.\n 예상보다 물이 깊었지만, 둥둥 떠다니는 게 신났고,\n결국 급류에 떠밀려 다섯 번이나 엉덩방아를 찧었다.\n 엉덩이는 아팠지만, 그날은 확실히 '우리가 친해진 날'로 남았다.\""
                },
                // 4번 뱃지
                {
                    id: 4,
                    name: "'가성비 데이트를 원한다면, 마트투어'뱃지",
                    imagePath: "badge_png/4.png",
                    story: "대학생은 돈이 없다. 아무리 아르바이트를 해도,\n매일 만나는 연애를 유지하기엔 턱없이 부족하다. 데이트를 하면,\n맛있는 것도 먹고 싶고재미있는 것도 하고 싶어지지만,\n매일 그럴 순 없다. 때로는,그냥 거리를 걷기만 하는 날도 있고,\n영화표마저 비싸게 느껴지는 날도 있다. 그럴 때 우리에게 주어진 최고의 무료 데이트 장소는,\n마트다. 푸드코트부터 장난감 코너, 화장품 매장까지,\n눈 돌리는 곳마다 구경할 거리가 가득하다. 그래서 우리는 자주 마트로 간다. 그중에서도 가장 행복한 순간은, 사람이 없는 평일 저녁,\n카트 안에 들어가서 서로를 밀어주는 것. 우리에겐 충분히 즐거운 순간이다. 조금 유치해 보일지 몰라도,\n생각보다 짜릿하다"
                },
                // 5번 뱃지
                {
                    id: 5,
                    name: "'내가 기타 사서 신난 사람같아?' 뱃지",
                    imagePath: "badge_png/5.png",
                    story: "장소: 복지관 318호 \n\n기타를 새로 샀다. 사실, 살 생각은 없었는데\n눈앞에 너무 예쁜 기타가 있었다. 한참을 고민하다가그냥, 샀다.\n 들고 오는 내내 어깨는 아팠지만\n얼굴은 괜히 웃고 있었다. 동아리에 가자마자\n아무도 묻지 않았는데도\n먼저 케이스를 열었다. 만져보라고,쳐보라고,\n진짜 예쁘지 않냐고. 누가 봐도내가 기타 사서 \n신난 사람처럼 보였을 거다.\n 아니,맞다. 진짜 신났다."
                },
                // 6번 뱃지
                {
                    id: 6,
                    name: "'기타바라기에게, 해바라기' 뱃지",
                    imagePath: "badge_png/6.png",
                    story: "장소: 복지관 제 2공연장\n\n다사다난한 일들을 겪은 뒤,\n나는 사진 동아리를 제외한\n모든 중앙동아리에서 탈퇴했다. 밴드부도 포함이었다.\n 하지만 남자친구는 남아 있었다. 쉽게 포기하지 않는 기타리스트. 그는 꽤 유명한 기타바라기다.\n 단 한 시간의 합주를 위해서도,\n2kg 넘는 이펙터 가방을 들고\n4~5시간을 왕복한다. 기타에 꽤 진심인 사람이다.\n 그런 사람이 공연을 하면,\n나도 진심으로 즐기고 와야 한다. 그래서,남자친구가 가장 좋아하는\n해바라기를 들고 조용히 공연을 보러 갔다.  기타 바라기에게 해바라기 선물이라니 아주, 성공적이었다."
                },
                // 7번 뱃지
                {
                    id: 7,
                    name: "'최고의 사장님, 최고의 스테이크' 뱃지",
                    imagePath: "badge_png/7.png",
                    story: "장소: 동대문 VIPS\n\n여러 아르바이트를 거쳐\n마침내 '학림'을 만났다.\n 일한 지 어언 1년이 되어가던 어느 날,\n캐나다 어학연수를 가게 되며 그만두게 되었다.\n 마지막 근무날,\n같이 일하던 동료들과 함께 가장 가까운 VIPS에 갔다.\n 그리고, 사장님이 우리 모두에게 스테이크를 사주셨다.  어학연수에서 돌아온 뒤에도,다시 일할 수 있었던 곳. 좋은 사장님, 서로서로 배려하는 학림 피플이다."
                },
                // 8번 뱃지
                {
                    id: 8,
                    name: "'말차+초코 = 천국의 맛'뱃지",
                    imagePath: "badge_png/8.png",
                    story: "장소: 캐나다 스타벅스\n\n유튜브를 보다 보면,\n미국 스타벅스 꿀조합 영상이 정말 많다.\n 우리나라에는 없는 메뉴도 많고,\n북미는 커스텀이 무한대라\n시도해볼 수 있는 조합도 끝이 없다.\n 이미,망고용과레몬에이드리프레셔를 마시고\n한국 스타벅스에 대한 큰 배신을 느낀 뒤였기에\n엄청난 기대감을 안고 있었다.\n 그래서 첫 도전은,\n카페 모카 위에 말차 크림 폼을 올리는 것. 휘핑크림을 빼고,\n솔티드 크림 폼에 말차 파우더를 섞어 올렸다.\n 결과는,천국의 맛이었다. 이게 왜 한국에 없는지정말 이해할 수 없었다. 있다면,매일 먹을 자신이 있었는데... 화가 났지만,그만큼 감격스러운 맛이었다."
                },
                // 9번 뱃지
                {
                    id: 9,
                    name: "'뽀글이 파마' 뱃지",
                    imagePath: "badge_png/9.png",
                    story: "장소: 광화문 세종문화센터\n\n나는 엄청난 반곱슬이다. 그래서 초등학교 1학년 때부터,\n매년 매직을 해야만 했다. 그런데,친구들이 뽀글뽀글 파마를 하는 걸 보면서\n나도 해보고 싶어졌다. 난생처음, 뽀글이 파마를 한 날. 너무 마음에 들어서\n하루 종일 머리를 만지며 돌아다녔다. 머리카락은 엉키고,\n감을 때마다 더 많이 빠졌지만, 그래도 하길 정말 잘했다고 생각했다. 시간이 지나면서,\n파마가 자연스러운 물결로 풀리는 것도 완벽했다. 지금은 머리를 단발로 잘랐다가\n다시 기르고 있다. 뽀글이 파마를 할 수 있는 기장이 되는 순간,\n바로 다시 볶을 거다."
                },
                // 10번 뱃지
                {
                    id: 10,
                    name: "'아스파라거스 불닭 김치' 뱃지",
                    imagePath: "badge_png/10.png",
                    story: "장소: 밴쿠버 어느 한 하우스\n\n외국에 오래 살다 보면,\n배추김치는 한인마트에서 쉽게 살 수 있다. 문제는,맛있는 김치는 거의 없다는 거다. 파김치가 너무 먹고 싶었지만,\n한인마트 김치는익어도 너무 익어,\n얼굴이 찡그려질 정도였다. 그래서 방법을 찾았다. 아스파라거스를 구워서,\n불닭소스를 얹어 먹는 것. 아스파라거스는 아삭하지만 \n질기지 않아서 의외로 \n파김치와 비슷한 식감이 났다. 매콤하고 아삭한,이상하지만\n 꽤 맛있는 조합. 해외에서 김치가 그리워진다면,\n한 번쯤 시도해볼 만하다."
                },
                // 11번 뱃지
                {
                    id: 11,
                    name: "'레이크 루이즈 인 레이크 루이즈' 뱃지",
                    imagePath: "badge_png/11.png",
                    story: "장소: Lake Louise\n\n5개월 동안 캐나다로 어학연수를 간다고 했을 때,\n남자친구는 아무 말 없이, .즐겁게 다녀오라며 응원한다고 했다 마음이 힘들어 떠났던 캐나다였기에,\n솔직히 많이 외롭고 힘든 날도 많았다.\n 그런데 지금 돌아보면,\n좋은 사람들과 함께한 좋은 기억들이 더 선명하다. 어학연수가 끝나갈 무렵,\n남자친구가 캐나다까지 날아왔다.\n 학기 내내 주 5일 아르바이트를 하면서,\n내게 오기 위해 고생했던 걸 알기에,\n그 자체로 고마웠다.  제일 잊을 수 없는 순간은\nLake Louise에서 Lake Louise를 들었던 그 순간. 믿을 수 없을 만큼 맑은 호수 위를,\n우리 둘만 탄 작은 배가 요리조리 떠다녔다. 레이크 루이즈에서 레이크 루이즈를 듣는 건\n내가 캐나다를 선택한 이유였고,\n오래도록 품어온 나만의 버킷리스트였다.\n 그리고, 그날. 오래 품어온 꿈을,드디어 이뤘다."
                },
                // 12번 뱃지
                {
                    id: 12,
                    name: "'우당탕탕 신입생워크샵' 뱃지",
                    imagePath: "badge_png/12.png",
                    story: "장소: 신입생 밴드부 워크숍 공연.\n\n준비부터 공연까지\n고난과 역경이 참 많았다.\n\n드럼스틱은 부러지고,\n악보는 헷갈리고,\n연습도 빠듯했고,\n\n진짜,되는 게 하나도 없는 줄 알았다.\n\n중간에 몇 번은 그냥 도망치고 싶었는데\n\n결국, 무대에 올랐고 무사히 끝났다.\n힘들었지만, 지금 생각하면 다 웃기다.\n\n그리고 아주 조금, 뿌듯하다."
                },
                // 13번 뱃지
                {
                    id: 13,
                    name: "'WITH LIGHT FOREVER' 뱃지",
                    imagePath: "badge_png/13.png",
                    story: "장소: 대성리 MT촌 부근 펜션 근처 자갈밭\n\n물놀이가 끝나고, 다 같이 맛있는 밥을 먹은뒤, 펜션 주변을 돌면서 야간 출사를 나섰고,\n자연스럽게 장노출 사진을 찍기로 했다.\n 동아리에서 전해 내려오는 전통처럼,\n모두가 플래시를 들고 장노출 레터링을 만들었다.\n MT가 아닌 하계 출사라 그런지,\n별 사진도 잔뜩 찍고, 예쁜 사진들을 많이 남겼다.\n 핸드폰 플래시 색이 제각각이라,\n사진 속 빛깔도 제각각이라,\n이상하게 더 예뻤다."
                },
                // 14번 뱃지
                {
                    id: 14,
                    name: "'사랑해요 터치드' 뱃지",
                    imagePath: "badge_png/14.png",
                    story: "장소: 터치드 콘서트장\n\n터치드를 좋아하게 된 건,\n밴드부에 들어간 뒤였다. 그 전엔 주로 드라마 OST나\n잔잔한 음악을 좋아했다. 하지만 밴드부에 들어가고 나서,\n락이나 인디 밴드,악기 사운드가 \n강한 음악에 끌리기 시작했다. 특히, 서울 그레이트 인베이전에 출연한밴드들의 음악을 좋아했는데,\n그 중 하나가 터치드였다. 같은 팀 언니가 터치드 광팬이었고,\n덕분에 같이 콘서트에 가게 됐다. 생각보다 무대와 가까운 자리였고, 언니가 거금을 들여 만든 플랜카드를 들고\n들뜬 마음으로 사진을 찍었다. 나는 드럼 세션이었기에,\n자연스레 드러머에게 시선이 갔다. 드럼을 잘 치는 건,\n언제 봐도 멋있다. 터치드 콘서트는,\n정말 실망할 틈이 별로 없는 공연이다. 기회가 된다면,\n꼭 한 번 가보기를 추천한다."
                },
                // 15번 뱃지
                {
                    id: 15,
                    name: "'나는야 학생회' 뱃지",
                    imagePath: "badge_png/15.png",
                    story: "장소: 신입생 OT\n\n신입생 OT에\n학생회 임원으로 참가했다.\n\n이전엔\n그냥 따라가기만 했던 자리였는데\n\n이번엔\n내가 누군가를 챙겨야 했다.\n\n이름을 외우고,\n인원 수를 확인하고,\n물 흐르듯 진행되게 조율하는 일.\n\n사실,\n겉으론 웃고 있었지만\n속으론 계속 긴장했다.\n\n그런데\n신입생들이 조금씩 웃기 시작했고,\n\n그걸 보니\n나도 괜히 어깨가 펴졌다.\n\n아직 많이 부족했지만\n그래도,\n그날만큼은\n조금 어른 같았다."
                },
                // 16번 뱃지
                {
                    id: 16,
                    name: "'드럼 전격 데뷔' 뱃지",
                    imagePath: "badge_png/16.png",
                    story: "장소: 국민대학교 복지관 지하 제2공연장\n\n교내 밴드부 '아우성'에 들어가 드럼을 친 지도 벌써 반년. 신입생 워크숍 공연을 제외하면, 이번이 내 첫 정기공연 데뷔다.\n 무대에서 드럼을 친다는 사실만으로도 \n너무 신이 나서덜컥 3곡을 하겠다고 했다.\n 그런데 생각보다 훨씬 어렵고,훨씬 힘들었다. 매주 3곡씩 합주한다는 건, \n말이 쉽지 몸으로는 꽤 벅찼다.\n 그래도 수많은 사람들이 \n함께 도와주고, 끌어주고, 기다려줬다. \n 그렇게 세 곡—\n연극이 끝난 후, Good Morning Sunshine, 각자의 밤. 무사히 끝냈고,무사히 내가 해냈다.\n 그 과정에서 지금의 남자친구도 만났고,\n연습 내내 조용히 짝사랑했던 순간들도 있었다.\n 조금 부족했을 수도 있지만,\n지금 생각해보면 나름대로 성공적인 무대였다."
                },
                // 17번 뱃지
                {
                    id: 17,
                    name: "'휴강이라서 다행이야' 뱃지",
                    imagePath: "badge_png/17.png",
                    story: "과제를 거의 하지 못했다.\n\n밤을 새도 다 못 끝낼 것 같았다.\n\n마음 단단히 먹고 밤새기로 결심한 날 저녁,\n\n교수님께서 휴강 공지를 올리셨다.\n\n진짜, 몇 번이나 읽었다.\n그날 밤, 조용히 모니터를 닫고\n아무 일도 없었던 것처럼\n이불 속에 들어갔다.\n너무 다행이어서 꿈도 편하게 꿨다."
                },
                // 18번 뱃지
                {
                    id: 18,
                    name: "'모여모여 강릉가자' 뱃지",
                    imagePath: "badge_png/18.png",
                    story: "장소: 강릉역\n\n남자친구랑 강릉에 가고 싶었다. 근데, 부모님 허락이 필요했다. 그래서 방법을 찾았다. 동아리 친구들을하나둘, 말 걸어 모았다. 그렇게,'우연히 모두의 시간이 맞아서'\n단체 여행을 가게 되었다. 목적지는 강릉. 물론,진짜 여행이기도 했고, 진짜 단체이기도 했다. 하지만 사실,내 마음속에선\n그냥 남자친구랑 가는 강릉 여행이었다. \n같이 간 모든 사람이 커플이었다는 건\n비밀이 아니다."
                },
                // 19번 뱃지
                {
                    id: 19,
                    name: "'한라산 정상모임' 뱃지",
                    imagePath: "badge_png/19.png",
                    story: "장소: 한라산 정상 백록담\n\n친구들과한라산 정상에 올랐다. 숨이 차고, 다리는 무겁고,\n말수는 줄고, 고개는 자꾸 아래로 떨어졌지만 그래도,끝까지 걸었다.\n\n함께한 친구들이 아니었다면\n절대 정상까지 가지 못했을 것이다.\n강인한 체력으로 날 밀어붙여준 내 친구들\n지금 생각해도 너무 미안하고 고맙다\n 그리고,드디어 정상에 도착했다. 그 순간,아무 말도 하지 못했다. 말보다 먼저,\n눈물이 찔끔 나올 뻔했다. 가슴이 쿵 하고 울렸다. \n안개가 잔뜩 낀 날이라 백록담은\n볼 수 없었지만, 그럼에도 좋았다. 우리는 그저,꼭대기에서 \n아주 잠깐바람과 하늘 속에 서 있었다."
                },
                // 20번 뱃지
                {
                    id: 20,
                    name: "'고백할 시간, 새벽 2시' 뱃지",
                    imagePath: "badge_png/20.png",
                    story: "장소: 복지관 2층 복도\n\n썸을 타고 있는건지, 내가 짝사랑을 하는건지\n아리송하게 아무런 플러팅도 하지 않는 전썸남\n현 남자친구에게 영화를 보자고 했다가 \n\n그날 밤 새벽 두시에 고백을 받았다."
                },
                // 21번 뱃지
                {
                    id: 21,
                    name: "'도플티셔츠' 뱃지",
                    imagePath: "badge_png/21.png",
                    story: "우리 시각디자인학과엔\n피치트럭앤하이재커스라는\n선배들의 멋진 밴드가 있다.\n\n플리마켓 때, 선배들이 직접 만든 티셔츠를 팔았는데,\n\n그리고 어느 날,\n아무 약속도 없이,\n아무 연락도 없이\n\n셋이 똑같은 그 티셔츠를 입고 거리에 마주쳤다.\n\n우리는 그냥, 서로를 보자마자 웃었다"
                },
                // 22번 뱃지
                {
                    id: 22,
                    name: "'밴드 결성 실패' 뱃지",
                    imagePath: "badge_png/22.png",
                    story: "장소: 토론토 차이나타운 어느 한 악기 상점\n\n밴쿠버에서 토론토로 이사하고,\n한동안 친구를 사귀지 못해 외로운 시간을 보냈다.\n 캐나다의 마약, 무서운 밤거리, 낯선 냄새에 지쳐\n한국으로 돌아가고 싶던 시기에 만난 한 언니가  밴드를 좋아한다며, 같이 버스킹을 해보자고 했다.\n 드럼을 칠 일본인 친구를 섭외해서,\n셋이서 기타를 사러 다녔다. 길거리 버스킹을 하겠다는\n무모하고 설레는 계획이었다.\n 생활비를 아껴 \n25만 원짜리 기타를 샀고,\n몇 주 동안 연습했다.\n 결국,빠른 귀국과 \n연애와 이별의 소용돌이 속에\n우리의 계획은 무너졌다.\n 그래도,캐나다 악기상점을 돌며 \n기타를 샀던 그 순간만은,\n내게 분명 새로운 도전이었다."
                },
                // 23번 뱃지
                {
                    id: 23,
                    name: "'너가 왜 여기 있어' 뱃지",
                    imagePath: "badge_png/23.png",
                    story: "뱃지 이야기를 여기에 작성하세요."
                },
                // 24번 뱃지
                {
                    id: 24,
                    name: "'즐거운 한가위, 배달그만' 뱃지",
                    imagePath: "badge_png/24.png",
                    story: "장소: 한성대입구역 아이스크림 가게\n\n가게 일엔 무관심하지만,\n참 착했던 사장님이 운영하시는\n아이스크림 가게에서 일한 적이 있다\n 손님 응대가 곤란할 때도 있었지만,\n동료들이 좋아서 버틸 수 있었다.\n 추석엔 여분 종이를 잘라\n직접 스티커를 만들어 붙였다.\n 배달받은 손님들이 후기에 그걸 올려줬을 땐\n괜히 뿌듯해서,쉬는 시간마다 또 그리고 또 그렸다. 참 귀엽고 따뜻했던 기억이다."
                }
            ];
            
            // 뱃지 이미지 클릭 이벤트 및 번호 버튼 클릭 이벤트
            const badgeImages = document.querySelectorAll('.badge-image');
            const frameNumbers = document.querySelectorAll('.frame-number');
            const badgePopup = document.getElementById('badgePopup');
            const closeBadgePopup = document.getElementById('closeBadgePopup');
            const badgeTitle = document.getElementById('badgeTitle');
            const badgeImage = document.getElementById('badgeImage');
            const badgeStory = document.getElementById('badgeStory');
            
            // 뱃지 팝업 표시 함수
            function showBadgePopup(badgeId) {
                // 해당 ID의 뱃지 데이터 찾기 (ID는 1부터 시작)
                const badge = badgeData.find(b => b.id === badgeId) || {
                    name: `뱃지 #${badgeId}`,
                    imagePath: `badge_png/${badgeId}.png`,
                    story: `뱃지 #${badgeId}에 대한 이야기가 곧 추가될 예정입니다.`
                };
                
                // 팝업에 데이터 설정
                badgeTitle.textContent = badge.name;
                badgeImage.src = badge.imagePath;
                badgeImage.alt = badge.name;
                badgeStory.textContent = badge.story;
                
                // 팝업 표시
                badgePopup.style.display = 'flex';
                
                // 스크롤 방지
                document.body.style.overflow = 'hidden';
            }
            
            // 뱃지 이미지 클릭 이벤트
            badgeImages.forEach((image, index) => {
                image.addEventListener('click', function() {
                    const badgeId = index + 1;
                    showBadgePopup(badgeId);
                });
            });
            
            // 번호 버튼 클릭 이벤트
            frameNumbers.forEach(button => {
                button.addEventListener('click', function() {
                    const badgeId = parseInt(this.textContent.replace('#', ''));
                    showBadgePopup(badgeId);
                });
            });
            
            // 팝업 닫기 버튼 이벤트
            closeBadgePopup.addEventListener('click', function() {
                badgePopup.style.display = 'none';
                document.body.style.overflow = 'auto'; // 스크롤 복원
            });
            
            // 팝업 외부 클릭 시 닫기
            badgePopup.addEventListener('click', function(event) {
                if (event.target === badgePopup) {
                    badgePopup.style.display = 'none';
                    document.body.style.overflow = 'auto'; // 스크롤 복원
                }
            });
            
            // ESC 키 누르면 팝업 닫기
            document.addEventListener('keydown', function(event) {
                if (event.key === 'Escape' && badgePopup.style.display === 'flex') {
                    badgePopup.style.display = 'none';
                    document.body.style.overflow = 'auto'; // 스크롤 복원
                }
            });
        });
    </script>
</body>
</html>


